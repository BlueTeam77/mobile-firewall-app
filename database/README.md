# 🗄️ دليل منسق قواعد البيانات والأمان - محمد صطوف

<div align="right">

أهلاً بك يا **محمد** في فريق **Mobile Firewall**. بصفتك منسق قواعد البيانات والأمان، فأنت حارس بيانات التطبيق. دورك حيوي في بناء أساس موثوق وآمن يعتمد عليه المحرك الأمني بأكمله.

</div>

---

## 🎯 دورك ومسؤولياتك الأساسية

مهمتك هي تصميم، بناء، وإدارة كل ما يتعلق بالبيانات، من السجلات المحلية إلى قاعدة بيانات التهديدات الأمنية. هذا يشمل:

1.  **إدارة قاعدة البيانات المحلية**: تصميم وبناء مخطط (Schema) قاعدة البيانات باستخدام Room، وإدارة عمليات الترحيل (Migrations) عند تحديثها.
2.  **إدارة قاعدة بيانات التهديدات**: تنظيم وصيانة قاعدة بيانات التهديدات (`threat-db`)، وتحديد آلية لتحديثها باستمرار بأحدث بصمات التهديدات.
3.  **ضمان أمان البيانات**: التأكد من أن البيانات الحساسة تُخزن وتُعالج بشكل آمن.
4.  **توفير الوصول للبيانات**: التعاون مع مطور الـ Backend لإنشاء "مستودعات" (Repositories) توفر وصولاً فعالاً وآمناً للبيانات.

---

## 🏗️ مناطق التركيز في بنية المشروع

عملك يتركز في مجلد `database/` وفي طبقة البيانات داخل التطبيق.

```
mobile-firewall-app/
│
├── 🗄️ database/                     # ⬅️ منطقتك الأساسية: هنا تخطط وتدير البيانات
│   ├── schemas/                    # (مخططات الجداول وقواعد البيانات)
│   ├── migrations/                 # (ملفات الترحيل لتحديث قاعدة البيانات)
│   └── threat-db/                  # ⬅️ مسؤوليتك المباشرة: إدارة بصمات التهديدات
│       ├── signatures/             # (ملفات تحتوي على بصمات التهديدات)
│       └── updates/                # (آلية أو سجلات التحديثات)
│
├── 📱 app/
│   ├── src/
│   │   ├── main/
│   │   │   ├── java/com/firewall/
│   │   │   │   ├── data/           # ⬅️ هنا تترجم مخططاتك إلى كود
│   │   │   │   │   ├── database/   # (كود Room DB: Entities, DAOs)
│   │   │   │   │   ├── repository/ # (تتعاون هنا لتحديد كيفية الوصول للبيانات)
│   │   │   │   │   └── models/     # (نماذج البيانات التي ستعرفها)
│   │   │
│   │   └── test/                   # ⬅️ ستكتب اختبارات لقاعدة البيانات هنا
│
└── 📚 docs/
    └── architecture/               # (مرجع مهم لفهم كيفية تفاعل البيانات مع النظام)
```

---

## 🚀 خطوات البدء السريع

1.  **استنساخ المستودع**:
    ```bash
    git clone https://github.com/<team-org>/mobile-firewall-app.git
    cd mobile-firewall-app
    ```2.  **إعداد بيئة العمل**:
    ```bash
    ./scripts/setup.sh
    ```3.  **التركيز على اختبارات قاعدة البيانات**:
    -   يمكنك بناء واختبار طبقة البيانات بشكل مستقل.
    -   استخدم اختبارات الوحدة (`testDebugUnitTest`) للتحقق من صحة عمل `DAOs` و `Migrations`.

---

## 🛠️ التقنيات والأدوات الأساسية لك

| التقنية | الاستخدام الرئيسي في دورك |
| :--- | :--- |
| **Room Database** | أداتك الأساسية لبناء وإدارة قاعدة البيانات المحلية على أجهزة Android. |
| **SQLite** | ستحتاج إلى فهم جيد لـ SQL لكتابة استعلامات معقدة وتحسين أداء قاعدة البيانات. |
| **Kotlin** | لكتابة مكونات Room مثل `Entities`، `DAOs`، ومختبرات الترحيل. |
| **Git & GitHub** | لإدارة إصدارات مخططات قاعدة البيانات وملفات التهديدات. |
| **JSON / CSV** | قد تستخدم هذه الصيغ لتنظيم وتحديث بصمات التهديدات في مجلد `threat-db/`. |
| **Hilt** | ستستخدم لتوفير نسخة من قاعدة البيانات (Database instance) لبقية التطبيق. |

---

## ✅ أهدافك الحالية (الإصدار 1.0)

مهمتك الآن هي وضع الأساس لبيانات التطبيق:

-   [ ] **تصميم مخطط قاعدة البيانات (`Schema`)**: تحديد الجداول المطلوبة لتخزين سجلات الأحداث، إعدادات المستخدم، والتطبيقات المفحوصة.
-   [ ] **تطبيق مكونات Room**: كتابة كود الـ `Entities` والجداول، و `DAOs` (Data Access Objects) لتوفير وظائف CRUD.
-   [ ] **بناء النسخة الأولية من `threat-db`**: تنظيم الهيكل المبدئي لقاعدة بيانات التهديدات وتزويدها ببعض البصمات الأولية.
-   [ ] **التعاون على `Repositories`**: العمل مع **HAMID** لبناء المستودعات التي ستكون الوسيط بين المحرك وقاعدة البيانات.
-   [ ] **كتابة اختبارات الترحيل (`Migration Tests`)**: إعداد اختبارات للتأكد من أن تحديثات مخطط قاعدة البيانات المستقبلية لن تؤدي إلى فقدان البيانات.

---

## 🤝 آلية العمل والتعاون

-   **التعاون الأساسي**:
    -   **HAMID (Backend Lead)**: هو المتعاون الرئيسي معك. المحرك الذي يبنيه يعتمد بشكل كامل على البيانات التي توفرها أنت. يجب أن يكون هناك تنسيق مستمر حول نماذج البيانات والاستعلامات المطلوبة.
-   **مراجعة الكود (Code Review)**:
    -   عند إجراء أي تغيير على مخطط قاعدة البيانات أو `DAOs`، قم بإنشاء **Pull Request (PR)**.
    -   سيقوم **HAMID** بمراجعة هذه التغييرات للتأكد من أنها تلبي متطلبات المحرك.
    -   سيقوم **محمد حمدان (QA)** بمراجعة خطط الاختبار الخاصة بالبيانات.
-   **تحديثات الأمان**:
    -   أنت المسؤول عن إبلاغ الفريق بأي تحديثات جديدة على `threat-db` وكيفية دمجها في التطبيق.

---

<div align="center">

**أنت العمود الفقري لبيانات التطبيق وأمانه. دقة عملك هي أساس موثوقيتنا.**

[⬆️ العودة للـ README الرئيسي](../README.md)

</div>